
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>the nullfactory</title>
	<meta name="description" content="the nullfactory" />
	<meta name="keywords" content="ALM,Azure,Azure Storage Accounts,CDN,Code Access Security,commitizen,conventional-changelog,Deployment,Dynamics CRM,Dynamics CRM Online,Entity Framework,generator-nullfactory-xrm,Git,HtmlAgilityPack,Hyper-V,Linux,Log4Net,Miscellaneous,Mobile Development,nodejs,npm,Octopus Deploy,PowerShell,Raspberry-Pi,REST,Security,SharePoint,SOAP,SQL Server,SQL Server Data Tools,SQL Server Reporting Services,StyleCop,Team Build,Team Foundation Server,TFS Tips,TFSVC,Tmux,Virtualization,Visual Studio,Visual Studio Team Services,WCF,Windows,Windows Phone,Yeoman" />

	<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="the nullfactory" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="/stylesheets/base.css" type="text/css" />
	<link rel="stylesheet" href="http://www.nullfactory.net/stylesheets/github.css" type="text/css" />
	<link rel="stylesheet" href="http://www.nullfactory.net/stylesheets/octicons.css" type="text/css" />
  <link rel="stylesheet" type="text/css" href="http://www.nullfactory.net/stylesheets/font-awesome/css/font-awesome.min.css" />
	<link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans|Bungee" rel="stylesheet">
	<link rel="canonical" href="http://nullfactory.net/page2/" />
</head>
<body>
  <!-- header -->
	<div class="header-container">
	  <header>
		  <ul class="nav">
			<!--Change the  URL here if working on an absolute domain-->
			<li><a href="http://www.nullfactory.net"><span class="logo">the nullfactory</span></a></li>
			<li><a href="http://www.nullfactory.net/archive"><span style="margin-right: 6px;"></span>archive</a></li>
			<li><a href="http://www.nullfactory.net/about"><span style="margin-right: 6px;"></span>about</a></li>
		  </ul>
	  </header>
	</div>
  <!-- header -->

  <div class="container">
	
<header>
  <div class="head-inner">
    <!--<h2>&nbsp;</h2>-->
  </div>
</header>
 <div class="listing">
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/06/continuous-integration-and-continuous-delivery-of-dynamics-365-solutions-using-vsts/">Continuous Integration and Continuous Delivery of Dynamics 365 Solutions using VSTS</a></h2>
      <p class="post-date">25 Jun 2017

      | <a href="/category/alm" title="ALM">ALM</a>
      | <a href="/category/visual-studio-team-services" title="Visual Studio Team Services">Visual Studio Team Services</a>
      | <a href="/category/dynamics-crm" title="Dynamics CRM">Dynamics CRM</a>
      | <a href="/category/dynamics-crm-online" title="Dynamics CRM Online">Dynamics CRM Online</a>
      | <a href="/category/git" title="Git">Git</a>
</p>

      <p>
		
		<p>In previous posts I've setup build and release defintions for Dynamics CRM solutions and in this one I try my attempt at setting up an automated Continuous Delivery pipeline. There are two popular strategies used to make sure that <a href="https://puppet.com/blog/continuous-delivery-vs-continuous-deployment-what-s-diff">every change made to a system can be deployed</a> successfully to secondary environment:</p>

<ul>
<li><p>Continuous Integration (CI)</p>

<p>A CI build is one that is usually kicked off any time a piece of code is checked-in in order to give early visibility of any potential failures. The success of a build is dependent on the actual build plus any unit tests.</p></li>
<li><p>Scheduled</p>

<p>A scheduled build, also commonly referred to as a <code>Nightly Build</code>, is a build and release that is performed on a regular cadence - usually every night. Once again, on the successful completion of the build and automated unit test, a new release is pushed to the staging environment.</p></li>
</ul>

<p>Both methods appear to be doing the same thing, so when should I choose a CI build + release over a scheduled build? The most <a href="https://stackoverflow.com/questions/417134/continuous-integration-vs-nightly-builds">common metric</a> appears to be the duration of your build and unit tests. The size of the team, the project and code complexity and the frequency of check-ins can have an impact on the time it takes for build and long running unit tests to execute. In these scenarios a <code>Scheduled</code> build makes more sense.</p>

<h2>Overview</h2>

<p>I was disappointed to find out that, at the time of writing this post, VSTS release definitions does not provide an option to trigger off a successful a scheduled build. The only options available are to trigger it off of a CI build or the automated schedule on the release itself. </p>

<p>Luckily, Rene van Osnabrugge's <a href="https://roadtoalm.com/2017/03/30/trigger-release-pipeline-only-for-scheduled-builds/">excellent post</a> provides us with a workaround for this restriction. Here's an overview how it works:</p>

<ul>
<li>Setup a single build that performs all three roles (manually invoked, CI and scheduled). </li>
<li>Add a task into the build that would to figure out which method was used to invoke. </li>
<li>Apply the the reason as a build tag onto itself. </li>
<li>Update the release definition to filter the the release trigger to be filtered only the scheduled tags.</li>
</ul>

<p>Lets get started setting it up.</p>


		<p><a href="/2017/06/continuous-integration-and-continuous-delivery-of-dynamics-365-solutions-using-vsts/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/06/enforce-coding-standards-by-integrating-stylecop-validations/">Enforce Code Standards by Integrating StyleCop Validations</a></h2>
      <p class="post-date">11 Jun 2017

      | <a href="/category/alm" title="ALM">ALM</a>
      | <a href="/category/stylecop" title="StyleCop">StyleCop</a>
</p>

      <p>
		
		<p>StyleCop is a configurable analysis library that ensures code produced conforms to it's coding standard. While the benefits of a consistent coding standard is clear, each team has there own strong opinions how it should be enforced. </p>

<p>In my previous projects I've used the <code>StyleCop.MsBuild</code> package and have been eager to try out the code analyzer version of the tool. In this post, I will start off with a quick run down of my attempt at integrating it into a solution.</p>

<h2>Prerequisites</h2>

<ul>
<li>Visual Studio Professional 2015 or higher. Its not really necessary, but makes for an easier setup and nicer integration with the Roslyn base analyzer. </li>
<li>If integrating with an SCM or Automated build -  Visual Studio Team Services (VSTS) using git. The steps are not limited to VSTS, but its just my personal preference.</li>
</ul>

<h2>Installation</h2>

<p>Installation itself is pretty simple - just install the <code>StyleCop.Analyzers</code> nuget package by running the following command in the package manager console witihin Visual Studio:</p>

<pre><code>Install-Package StyleCop.Analyzers
</code></pre>

<p>That's it. That all we need to do to get started.</p>

<h2>Warning Vs. Error</h2>

<p>By default StyleCop treats suggestions as warnings, but I prefer to go strict mode and treat all style cop validations as errors. This means that build actually fails if the code does not adhere to the style validations. My justification is that its always cheaper to fix these issues early in the development cycle as well as minimizing <a href="https://blog.codinghorror.com/the-broken-window-theory/">"broken windows syndrome"</a>.</p>

<p>When using the older <code>StyleCop.MSBuild</code> package, I could just set the <code>StyleCopTreatErrorsAsWarnings</code> environmental variable in the development machine or the team build and it will ensure that the the scope is limited to the StyleCop errors only. Unfortunately, with the Analyzers project it does not seem to be that simple. There exists an <code>TreatWarningsAsErrors</code> environmental variable, but this is global and treats any warnings as errors - not what I want.</p>


		<p><a href="/2017/06/enforce-coding-standards-by-integrating-stylecop-validations/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/06/resolving-race-condition-within-dynamics-365-process/">Resolving a Race Condition Within a Dynamics 365 Process</a></h2>
      <p class="post-date">09 Jun 2017

      | <a href="/category/dynamics-crm" title="Dynamics CRM">Dynamics CRM</a>
      | <a href="/category/dynamics-crm-online" title="Dynamics CRM Online">Dynamics CRM Online</a>
</p>

      <p>
		
		<p>I was attempting to diagnose and issue for a client the other day. It revolves around a single workflow that is being executed on both the create and update event of a field. And within this workflow, a custom activity executed if the field matches a certain condition. The problem was that the custom activity was being executed twice when it was only expected to run once.</p>

<p><img src="/images/posts/AsyncWorkflow/10_singleworkflow.png" alt="Single Workflow" /> </p>

<p><img src="/images/posts/AsyncWorkflow/20_singleworkflow_trigger.png" alt="Workflow Triggger" /></p>

<p>If we take the above example, it can be replicated easily:</p>

<ol>
<li>Create a new record where <code>Delivery Status</code> is <code>Current</code>.</li>
<li>Immediately update the record to <code>Pending</code>.</li>
</ol>

<p>Navigate to the background processes and ensure that the workflow was executed twice, once on the create and then again on the update. If you performed the update soon enough, you notice that both instances satisfied the citieria and the custom activity invoked.</p>

<p>This behaviour is by design - when an async workflow is triggered it neither guarantees the immediate execution of the process nor the state of the record at the time it was queued. This means that the workflow would work against the latest version of the record at the time of execution.</p>


		<p><a href="/2017/06/resolving-race-condition-within-dynamics-365-process/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/05/gated-checkins-in-vsts-using-tfsvc-and-git/">Gated Check-ins in Visual Studio Team Services using TFSVC and Git</a></h2>
      <p class="post-date">15 May 2017

      | <a href="/category/visual-studio-team-services" title="Visual Studio Team Services">Visual Studio Team Services</a>
      | <a href="/category/tfsvc" title="TFSVC">TFSVC</a>
      | <a href="/category/alm" title="ALM">ALM</a>
      | <a href="/category/git" title="Git">Git</a>
</p>

      <p>
		
		<p>A continuous integration build ensures that the code within a source control repository can be compiled successfully after a commit. <a href="https://www.thoughtworks.com/continuous-integration">It is defined as</a>:</p>

<blockquote>
  <p>Continuous Integration (CI) is a development practice that requires developers to integrate code into a shared repository several times a day. Each check-in is then verified by an automated build, allowing teams to detect problems early. </p>
</blockquote>

<p>Where as CI builds occur after a commit has been merged into the repository, a gated check-in is a "pessimistic" process that would treat a commit as completed <strong>only</strong> if the result of it being merged with the repository is a successful build.</p>

<p>In this post I will try my hand in setting up a gated check-in using Visual Studio Team Services (VSTS). I will start off with TFSVC as the underlying version control system and then replicate the same functionality using Git.</p>

<h2>Configuring a Gated Check-In Using TFSVC</h2>

<p><em>Prerequisite: A repository already exists in the remote server with project code checked-in. I will be using one of my demo CRM projects.</em></p>

<ol>
<li><p>Define the steps for the build that would act as the verification build.</p>

<p><img src="/images/posts/TfsvcGatedCheckIns/10_CIBuild.png" alt="Verification Build" /></p></li>
<li><p>Navigate to the <code>Triggers</code> tab within the build definition and enabling the <code>Gated Check-In</code> trigger.</p>

<p><img src="/images/posts/TfsvcGatedCheckIns/20_GatedCheckIn.png" alt="Gated Check-In" /></p></li>
</ol>


		<p><a href="/2017/05/gated-checkins-in-vsts-using-tfsvc-and-git/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/05/reassignment-of-record-causes-attached-notes-to-update-its-modifiedby-user-field-in-dynamics-crm/">Reassignment of Record Causes Attached Notes to Update its ModifiedBy User Field in Dynamics CRM</a></h2>
      <p class="post-date">04 May 2017

      | <a href="/category/dynamics-crm" title="Dynamics CRM">Dynamics CRM</a>
      | <a href="/category/dynamics-crm-online" title="Dynamics CRM Online">Dynamics CRM Online</a>
</p>

      <p>
		
		<p>My colleagues and I ran into a interesting problem the other day; we noticed that on some records all the notes attached to it were being updated seemingly randomly being updated. At first glance I was confused as to why this was happening, but we eventually found the steps to reproduce it: </p>

<ol>
<li>Create a record <code>Record 1</code> in an entity. This can either be a custom entity or out-of-the-box entity with notes and attachments enabled. </li>
<li>If the notes control has not been added onto the form, do that now.</li>
<li>Update it such that it has several notes created by different users.</li>
<li>Next make sure that <code>Record 1</code> is owned by <code>User A</code>.</li>
<li>Login as <code>User B</code> and reassign the <code>Record 1</code> to <code>User C</code>.</li>
</ol>

<p>Now, if we observe the notes control it shows <code>User B</code>'s name along side the date and time stamp. </p>

<p>I was initially thrown off as to why the above actions changed the <code>Created By</code> of the notes, but what I failed to realize was that the annotation control shows the <code>Modified By</code> user and not the <code>Created By</code>.</p>


		<p><a href="/2017/05/reassignment-of-record-causes-attached-notes-to-update-its-modifiedby-user-field-in-dynamics-crm/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/04/enforce-commit-message-standards-and-generate-changelogs-via-git/">Enforce Commit Message Standards and Generate Changelogs via Git</a></h2>
      <p class="post-date">30 Apr 2017

      | <a href="/category/git" title="Git">Git</a>
      | <a href="/category/alm" title="ALM">ALM</a>
      | <a href="/category/npm" title="npm">npm</a>
      | <a href="/category/nodejs" title="nodejs">nodejs</a>
      | <a href="/category/commitizen" title="commitizen">commitizen</a>
      | <a href="/category/conventional-changelog" title="conventional-changelog">conventional-changelog</a>
</p>

      <p>
		
		<p>In past projects my release note strategy has been a combination of custom scripts (to pull the changesets between releases) and good old fashioned elbow grease to manually create the notes. I was curious to know ways about the ways to achieve the same in git and learning about the techniques used in popular open source projects.  </p>

<p>In order to automatically generate a changelog the repository requires consistent commits - and I found that there are three steps that can be done to achieve this: </p>

<ol>
<li>Enforcing commit message rules.</li>
<li>Install and setup tools that help generate commit messages that are compliant.</li>
<li>Generate the changelog for the project based on the commits.</li>
</ol>

<h2>Prerequisites</h2>

<ul>
<li>Node.js - instructions on installing node can be found <a href="https://docs.npmjs.com/getting-started/installing-node">here</a>.</li>
<li>A <code>package.json</code> file for your project. One can be generated by navigating to the root folder of the project, run the <code>npm init</code> command and follow the instructions</li>
</ul>

<h2>Enforcing Commit Message Rules</h2>

<p>The enforcing of the rules are done using <code>husky</code> and <code>validate-commit-msg</code> packages. <code>Husky</code> makes it very easy to tap into the commit event and execute custom validation scripts and uses <a href="https://tygertec.com/git-hooks-practical-uses-windows/">git hooks</a> to do this. <code>validate-commit-msg</code> implements the validation scheme - conventional commits - that we would be used when the commit occurs.</p>

<p>The <a href="https://conventionalcommits.org/">conventional commits specification site</a> summarizes its advantages very well:</p>

<blockquote>
  <ul>
  <li>Automatically generating CHANGELOGs.</li>
  <li>Automatically determining a semantic version bump (based on the types of commits landed).</li>
  <li>Communicating the nature of changes to teammates, the public, and other stakeholders.</li>
  <li>Triggering build and publish processes.</li>
  <li>Making it easier for people to contribute to your projects, by allowing them to explore a more structured commit history.</li>
  </ul>
</blockquote>


		<p><a href="/2017/04/enforce-commit-message-standards-and-generate-changelogs-via-git/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-release-part-3/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 3 - Release and Deployment</a></h2>
      <p class="post-date">25 Apr 2017

      | <a href="/category/octopus-deploy" title="Octopus Deploy">Octopus Deploy</a>
      | <a href="/category/dynamics-crm" title="Dynamics CRM">Dynamics CRM</a>
      | <a href="/category/dynamics-crm-online" title="Dynamics CRM Online">Dynamics CRM Online</a>
      | <a href="/category/generator-nullfactory-xrm" title="generator-nullfactory-xrm">generator-nullfactory-xrm</a>
      | <a href="/category/visual-studio-team-services" title="Visual Studio Team Services">Visual Studio Team Services</a>
      | <a href="/category/alm" title="ALM">ALM</a>
      | <a href="/category/git" title="Git">Git</a>
</p>

      <p>
		
		<p>In this third and final installment I cover the steps involved in setting up the minimum release and deployment steps required for a successful Dynamics CRM/365 deployment. The steps and actions performed in the previous posts acts as prerequisites for this one.</p>

<p>Related posts from the series:</p>

<ul>
<li><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-setup-part-1/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 1 - Setup</a></li>
<li><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-build-part-2/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 2 - Build</a></li>
<li>Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 3 - Release and Deployment</li>
</ul>

<h2>The Packages</h2>

<p>In the <a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-build-part-2/">previous post</a>, I setup the team build to automatically publish packages into the Octopus Deploy package repository. </p>

<p>We can verify that they have indeed been published by navigating to the <code>Library &gt; Packages</code> tab for a list of available packages.</p>

<p><img src="/images/posts/OctoDeployPt3/05_published_package.png" alt="Available Packages" /> </p>

<h2>Defining the Environment</h2>

<p>Environments are a logical grouping of targets / machines used by deployments. For the purpose of this post, I will create one environment - <code>Testing</code> and it would contain a single CRM deployment target - the CRM Server). </p>

<ol>
<li>Let's start off by clicking on the <code>Environments</code> from the main menu to navigate to the environment configuration page.</li>
<li>Click on <code>Add environment</code> in the resulting page.</li>
<li><p>Set <code>Testing</code> as the name of the environment .</p>

<p><img src="/images/posts/OctoDeployPt3/10_create_environment.png" alt="Existing Build Definition" /></p></li>
<li>Click on <code>Save</code> to confirm selection.</li>
</ol>


		<p><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-release-part-3/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-build-part-2/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 2 - Build</a></h2>
      <p class="post-date">24 Apr 2017

      | <a href="/category/octopus-deploy" title="Octopus Deploy">Octopus Deploy</a>
      | <a href="/category/dynamics-crm" title="Dynamics CRM">Dynamics CRM</a>
      | <a href="/category/dynamics-crm-online" title="Dynamics CRM Online">Dynamics CRM Online</a>
      | <a href="/category/generator-nullfactory-xrm" title="generator-nullfactory-xrm">generator-nullfactory-xrm</a>
      | <a href="/category/visual-studio-team-services" title="Visual Studio Team Services">Visual Studio Team Services</a>
      | <a href="/category/alm" title="ALM">ALM</a>
      | <a href="/category/git" title="Git">Git</a>
</p>

      <p>
		
		<p>This is the second part of a series of posts where I attempt to deploy a Dynamics 365/CRM solution using Visual Studio Team Services (VSTS) and Octopus Deploy (OD). Previously, I setup an OD server and integrated it with VSTS - the steps describe in that post act as a prerequisite for this one. In this post we go about modifying an existing Dynamics CRM build definition to automatically package the release-artifact and upload it to the OD server for deployment. </p>

<p>Related posts from the series:</p>

<ul>
<li><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-setup-part-1/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 1 - Setup</a> </li>
<li>Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 2 - Build</li>
<li><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-release-part-3/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 3 - Release and Deployment</a></li>
</ul>

<h2>Publishing Packages</h2>

<p>There are a few different ways of getting a package into Octopus Deploy:</p>

<ul>
<li>Remotely upload a package to Octopus Deploy's built-in repository.</li>
<li>Make octopus deploy pull packages from an external feed. Find more information <a href="https://www.visualstudio.com/en-us/docs/package/overview">here</a> on setting up VSTS to publish an package feed.</li>
<li>Manually upload the package into the built-in repository.</li>
</ul>

<p>And the method of publishing the package has no bearing on the end deployment -I chose to explicitly push to the remote octopus deploy server. </p>


		<p><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-build-part-2/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-setup-part-1/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 1 - Setup</a></h2>
      <p class="post-date">23 Apr 2017

      | <a href="/category/octopus-deploy" title="Octopus Deploy">Octopus Deploy</a>
      | <a href="/category/dynamics-crm" title="Dynamics CRM">Dynamics CRM</a>
      | <a href="/category/dynamics-crm-online" title="Dynamics CRM Online">Dynamics CRM Online</a>
      | <a href="/category/generator-nullfactory-xrm" title="generator-nullfactory-xrm">generator-nullfactory-xrm</a>
      | <a href="/category/visual-studio-team-services" title="Visual Studio Team Services">Visual Studio Team Services</a>
      | <a href="/category/alm" title="ALM">ALM</a>
      | <a href="/category/git" title="Git">Git</a>
</p>

      <p>
		
		<p>I have seen <a href="https://octopus.com/">Octopus Deploy (OD)</a> being mentioned frequently in the community but haven't had a chance to play around with it myself. Therefore, I think that attempting to deploy a Dynamics 365/CRM solution using Octopus Deploy seemed like the perfect exercise to learn more about the platform and its features.</p>

<p>I was curious if there were other developers who have released Dynamics CRM using Octopus Deploy and sure enough there was some one who had <a href="https://www.youtube.com/watch?v=--9u5azwSb4">already thought of that</a>.</p>

<p>In this series of posts I try to cover everything from setting up integration with Visual Studio Team Services(VSTS), updating a build definition to automatically publish itself and then finally setting up a simple release and deployment pipeline.</p>

<p>Related posts from the series:</p>

<ul>
<li>Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 1 - Setup </li>
<li><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-build-part-2/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 2 - Build</a></li>
<li><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-release-part-3/">Deploy Dynamics CRM Solutions using VSTS and Octopus Deploy - Part 3 - Release and Deployment</a></li>
</ul>

<h2>Prerequisites</h2>

<ul>
<li>Project structure and deployment scripts based on <a href="https://www.npmjs.com/package/generator-nullfactory-xrm">generator-nullfactory-xrm</a> (with a minimum version of at least 1.4.0). <a href="/2016/10/release-strategy-for-dynamics-crm-prepping-part-1/">Read More</a></li>
<li>The project checked into Visual Studio Team Services (VSTS) using either <code>git</code> or <code>tfsvc</code> with a working team build already setup. <a href="/2016/11/release-strategy-for-dynamics-crm-setting-up-the-build-part-2">Read More</a>.</li>
<li>Installation of Octopus Deploy and ensure sure that it is publicly accessible. <a href="https://www.youtube.com/watch?v=T0BQvMDXPNQ">Read More</a>.</li>
</ul>

<h2>The Strategy</h2>

<p>When I saw the integration tasks provided by the OD extensions for VSTS, my first reaction was to divide the tasks between the build and the release in VSTS. I wanted to the the build definition to build and package the solution and pass it on to release management. Release management would then publishing the release-artifact to OD and explicitly remote trigger the OD deployment.</p>

<p>While it was certainly possible to set this up, its did not make sense to have two deployment services for the same pipeline. Therefore the strategy is going to be very similar to the one that I had done previously - VSTS would continue to act as the version control and build server but this time Octopus deploy would act as the release component.</p>

<p>The build server would handle creating compatible package and uploading it to the OD package repository. And OD takes over the management of the environment, release and deployment complexities.</p>

<p><img src="/images/posts/OctoDeployPt1/05_overview.png" alt="Release Strategy Overview" /></p>


		<p><a href="/2017/04/deploy-dynamics-crm-solutions-vsts-octopus-deploy-setup-part-1/">Read more...</a></p>
	  </p>
    </div>
    <div class="post other link">
      <h2><span class="mega-octicon octicon-file-text" style="min-width: 32px;"></span><a href="/2017/04/version-140-generator-nullfactory-xrm-published/">Version 1.4.0 of generator-nullfactory-xrm Published</a></h2>
      <p class="post-date">18 Apr 2017

      | <a href="/category/dynamics-crm" title="Dynamics CRM">Dynamics CRM</a>
      | <a href="/category/dynamics-crm-online" title="Dynamics CRM Online">Dynamics CRM Online</a>
      | <a href="/category/yeoman" title="Yeoman">Yeoman</a>
      | <a href="/category/npm" title="npm">npm</a>
      | <a href="/category/nodejs" title="nodejs">nodejs</a>
      | <a href="/category/generator-nullfactory-xrm" title="generator-nullfactory-xrm">generator-nullfactory-xrm</a>
</p>

      <p>
		
		<p>Version <code>1.4.0</code> of the generator released. It includes the following changes:</p>

<ul>
<li>Added support to deploy third-party CRM solutions.</li>
<li>CRM SDK assemblies updated:
<ul>
<li>Microsoft.CrmSdk.CoreTools <code>8.1.0.2</code> => <code>8.2.0.4</code></li>
<li>Microsoft.CrmSdk.CoreAssemblies <code>8.1.0.2</code> => <code>8.2.0.2</code></li>
<li>Microsoft.CrmSdk.Workflow <code>8.1.0.2</code> => <code>8.2.0.2</code></li>
</ul></li>
<li>If opted-in to generate plugins and workflows projects, the generator would automatically create mapping entries in the <code>mapping-xml</code> file. </li>
<li>PowerShell script updates:
<ul>
<li>Better handling of exception and failure flows.</li>
<li><code>*.param.ps1</code> scripts to have high verbosity by default.</li>
<li>Fixed deploy script to have the new solution name. (i.e. <code>ProjectPrefix+SolutionName</code>) </li>
<li>Improved help documentation.</li>
</ul></li>
</ul>


		<p><a href="/2017/04/version-140-generator-nullfactory-xrm-published/">Read more...</a></p>
	  </p>
    </div>
</div>

  <div id="post-pagination" class="pagination">


      <p class="previous">
        <a href="/">Previous Page</a>
      </p>


    <p class="previous">
      <a href="/page3">Next Page</a>
    </p>

  </div>

  </div>

  <!-- /.main -->

  <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-57983893-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>
